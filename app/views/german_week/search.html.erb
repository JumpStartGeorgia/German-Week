<% title "Search" %>

<%= render 'german_week/search' %>

<div style="margin-bottom: 20px;">
  <% @categories.each do |category| %>
    <div style="display: inline-block; margin: 0 5px">
      <%= link_to category.title, search_path(:category => category.title) %>
    </div>
  <% end %>
</div>

<hr />

<% if !params[:search].nil?%>
	<p id="search_results_label">Search results for: <%= params[:search]%></p>  
<% elsif !params[:category].nil?%>
	<p id="search_results_label">Search results for Category: <%= params[:category]%></p>  
<% end %>

<% if @events.nil? || @events.length == 0 %>
	<% if !params[:search].nil? || !params[:category].nil?%>
		<p>0 results found.</p>
	<% end %>
<% else %>
  <table>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Start</th>
      <th>End</th>
      <th></th>
    </tr>

  <% @events.each do |event| %>
    <tr>
      <td><%= event.title %></td>
      <td><%= event.description %></td>
      <td><%= format_datetime(event.start) %></td>
      <td><%= format_datetime(event.end) %></td>
      <td><%= link_to 'Show', event %></td>
    </tr>
  <% end %>
  </table>
  
	<%# will_paginate @events %>
<% end %>
