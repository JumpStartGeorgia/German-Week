(function(a){function e(b,c){b.addClass("countdownHolder"),a.each(["Days","Hours","Minutes","Seconds"],function(c){a('<span class="count'+this+'">').html('<span class="position"><span class="digit static">0</span></span><span class="position"><span class="digit static">0</span></span>').appendTo(b),this!="Seconds"&&b.append('<span class="countDiv countDiv'+c+'"></span>')})}function f(b,c){var d=b.find(".digit");if(d.is(":animated"))return!1;if(b.data("digit")==c)return!1;b.data("digit",c);var e=a("<span>",{"class":"digit",css:{top:"-2.1em",opacity:0},html:c});d.before(e).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){d.remove()}),e.delay(100).animate({top:0,opacity:1},"fast",function(){e.addClass("static")})}var b=86400,c=3600,d=60;a.fn.countdown=function(g){function o(a,b,c){f(n.eq(a),Math.floor(c/10)%10),f(n.eq(b),c%10)}var h=a.extend({callback:function(){},timestamp:0},g),i,j,k,l,m,n;return e(this,h),n=this.find(".position"),function p(){i=Math.floor((h.timestamp-new Date)/1e3),i<0&&(i=0),j=Math.floor(i/b),o(0,1,j),i-=j*b,k=Math.floor(i/c),o(2,3,k),i-=k*c,l=Math.floor(i/d),o(4,5,l),i-=l*d,m=i,o(6,7,m),h.callback(j,k,l,m),setTimeout(p,1e3)}(),this}})(jQuery)
